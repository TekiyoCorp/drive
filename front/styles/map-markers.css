/* Leaflet base styling fixes */
.leaflet-container {
  height: 100% !important;
  width: 100% !important;
  z-index: 1 !important;
}

.leaflet-tile-pane {
  z-index: 1 !important;
}

.leaflet-map-pane {
  z-index: 1 !important;
}

.leaflet-tile {
  max-width: none !important;
  max-height: none !important;
}

/* Custom map marker styles - Pure CSS div markers */
.custom-marker-icon {
  background: transparent !important;
  border: none !important;
  position: relative;
}

.custom-dot-marker {
  position: absolute !important;
}

/* Hover effects for custom dot markers */
.custom-marker-icon:hover .custom-dot-marker {
  transform: translate(-50%, -50%) scale(1.15) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
}

.custom-marker-icon:hover .custom-dot-marker > div {
  transform: scale(1.1);
}

/* Active state for markers */
.custom-marker-icon:active .custom-dot-marker {
  transform: translate(-50%, -50%) scale(0.95) !important;
}

/* Focus styles for accessibility */
.custom-dot-marker:focus {
  outline: 2px solid #007bff !important;
  outline-offset: 2px !important;
  transform: translate(-50%, -50%) scale(1.1) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 0 0 3px rgba(0, 123, 255, 0.25) !important;
}

/* Focus-visible for modern browsers */
.custom-dot-marker:focus-visible {
  outline: 2px solid #007bff !important;
  outline-offset: 2px !important;
  transform: translate(-50%, -50%) scale(1.1) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), 0 0 0 3px rgba(0, 123, 255, 0.25) !important;
}

/* Remove focus outline when not using keyboard */
.custom-dot-marker:focus:not(:focus-visible) {
  outline: none !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3) !important;
}

/* Ensure keyboard navigation works */
.custom-dot-marker[role="button"] {
  cursor: pointer;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .custom-dot-marker {
    border: 3px solid #000000 !important;
  }

  .custom-dot-marker:focus {
    outline: 3px solid #ffffff !important;
    outline-offset: 2px !important;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .custom-dot-marker {
    transition: none !important;
  }

  .custom-dot-marker.pulse {
    animation: none !important;
  }
}

/* Pulse animation for active markers */
@keyframes marker-pulse {
  0% {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3), 0 0 0 0 rgba(0, 0, 0, 0.3);
  }
  70% {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3), 0 0 0 10px rgba(0, 0, 0, 0);
  }
  100% {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3), 0 0 0 0 rgba(0, 0, 0, 0);
  }
}

.custom-dot-marker.pulse {
  animation: marker-pulse 2s infinite;
}

/* Cluster group customization */
.marker-cluster-small {
  background-color: rgba(181, 226, 140, 0.6);
}

.marker-cluster-small div {
  background-color: rgba(110, 204, 57, 0.6);
}

.marker-cluster-medium {
  background-color: rgba(241, 211, 87, 0.6);
}

.marker-cluster-medium div {
  background-color: rgba(240, 194, 12, 0.6);
}

.marker-cluster-large {
  background-color: rgba(253, 156, 115, 0.6);
}

.marker-cluster-large div {
  background-color: rgba(241, 128, 23, 0.6);
}

/* Popup customization */
.leaflet-popup-content-wrapper {
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.leaflet-popup-content {
  margin: 12px 16px;
  line-height: 1.4;
}

.leaflet-popup-content h3 {
  margin: 0 0 8px 0;
  font-size: 16px;
  font-weight: 600;
  color: #333;
}

.leaflet-popup-content p {
  margin: 0;
  color: #666;
  font-size: 14px;
}
